import{d as b,B as x,u as C,h as c,Y as $,O as q,Z as R,r as l,o as B,f as I,w as n,a as g,t as h,b as t,k as d,$ as A,a0 as D,a1 as F,l as K,a2 as N,s as O,a3 as v,_ as P}from"./index.afbe2883.js";const U={class:"login-title"},Y=["src"],L=b({__name:"account",setup(S){const y=x(),{t:u}=C(),i=c(),m=c(),a=$({username:v.env.PROD?"":"admin",password:v.env.PROD?"":"admin",key:"e3dc6131-5623-442d-8104-693d8a04780c",captcha:"PGQYY"}),w=c({username:[{required:!0,message:u("required"),trigger:"blur"}],password:[{required:!0,message:u("required"),trigger:"blur"}],captcha:[{required:!0,message:u("required"),trigger:"blur"}]});q(()=>{_()});const _=async()=>{const{data:e}=await R();console.log(e),a.key=e.key,m.value=e.image},f=()=>{i.value.validate(e=>{if(!e)return!1;O.userStore.accountLoginAction(a).then(()=>{y.push({path:"/home"})}).catch(()=>{})})};return(e,o)=>{const p=l("el-input"),r=l("el-form-item"),V=l("el-button"),k=l("el-form");return B(),I(k,{ref_key:"loginFormRef",ref:i,model:a,rules:w.value,onKeyup:N(f,["enter"])},{default:n(()=>[g("div",U,h(e.$t("app.signIn")),1),t(r,{prop:"username"},{default:n(()=>[t(p,{modelValue:a.username,"onUpdate:modelValue":o[0]||(o[0]=s=>a.username=s),"prefix-icon":d(A),placeholder:e.$t("app.username")},null,8,["modelValue","prefix-icon","placeholder"])]),_:1}),t(r,{prop:"password"},{default:n(()=>[t(p,{modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=s=>a.password=s),"prefix-icon":d(D),"show-password":"",placeholder:e.$t("app.password")},null,8,["modelValue","prefix-icon","placeholder"])]),_:1}),t(r,{prop:"captcha",class:"login-captcha"},{default:n(()=>[t(p,{modelValue:a.captcha,"onUpdate:modelValue":o[2]||(o[2]=s=>a.captcha=s),placeholder:e.$t("app.captcha"),"prefix-icon":d(F)},null,8,["modelValue","placeholder","prefix-icon"]),g("img",{src:m.value,onClick:_},null,8,Y)]),_:1}),t(r,{class:"login-button"},{default:n(()=>[t(V,{type:"primary",onClick:o[3]||(o[3]=s=>f())},{default:n(()=>[K(h(e.$t("app.signIn")),1)]),_:1})]),_:1})]),_:1},8,["model","rules","onKeyup"])}}});const M=P(L,[["__scopeId","data-v-707c8013"]]);export{M as default};
