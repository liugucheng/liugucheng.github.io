import{d as S,h as p,Y as k,r as a,o as _,f as b,w as o,b as l,l as m,H as q,am as T,an as N,E as U}from"./index.afbe2883.js";const w=S({__name:"type-add-or-update",emits:["refreshDataList"],setup(x,{expose:V,emit:g}){const i=p(!1),n=p(),u=k({id:"",dictType:"",dictName:"",sort:0,dictSource:0,dictSql:"",remark:""}),E=p({dictType:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictName:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictSource:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictSql:[{required:!0,message:"\u5FC5\u586B\u9879\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),F=r=>{i.value=!0,u.id="",n.value&&n.value.resetFields(),r&&A(r)},A=r=>{T(r).then(e=>{Object.assign(u,e.data)})},D=()=>{n.value.validate(r=>{if(!r)return!1;N(u).then(()=>{U.success({message:"\u64CD\u4F5C\u6210\u529F",duration:500,onClose:()=>{i.value=!1,g("refreshDataList")}})})})};return V({init:F}),(r,e)=>{const s=a("el-input"),d=a("el-form-item"),B=a("el-input-number"),c=a("el-radio-button"),C=a("el-radio-group"),v=a("el-form"),f=a("el-button"),y=a("el-dialog");return _(),b(y,{modelValue:i.value,"onUpdate:modelValue":e[8]||(e[8]=t=>i.value=t),title:u.id?"\u4FEE\u6539":"\u65B0\u589E","close-on-click-modal":!1,draggable:""},{footer:o(()=>[l(f,{onClick:e[6]||(e[6]=t=>i.value=!1)},{default:o(()=>[m("\u53D6\u6D88")]),_:1}),l(f,{type:"primary",onClick:e[7]||(e[7]=t=>D())},{default:o(()=>[m("\u786E\u5B9A")]),_:1})]),default:o(()=>[l(v,{ref_key:"dataFormRef",ref:n,model:u,rules:E.value,"label-width":"80px"},{default:o(()=>[l(d,{prop:"dictType",label:"\u5B57\u5178\u7C7B\u578B"},{default:o(()=>[l(s,{modelValue:u.dictType,"onUpdate:modelValue":e[0]||(e[0]=t=>u.dictType=t),placeholder:"\u5B57\u5178\u7C7B\u578B"},null,8,["modelValue"])]),_:1}),l(d,{prop:"dictName",label:"\u5B57\u5178\u540D\u79F0"},{default:o(()=>[l(s,{modelValue:u.dictName,"onUpdate:modelValue":e[1]||(e[1]=t=>u.dictName=t),placeholder:"\u5B57\u5178\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(d,{prop:"sort",label:"\u6392\u5E8F"},{default:o(()=>[l(B,{modelValue:u.sort,"onUpdate:modelValue":e[2]||(e[2]=t=>u.sort=t),"controls-position":"right",min:0,label:"\u6392\u5E8F"},null,8,["modelValue"])]),_:1}),l(d,{prop:"remark",label:"\u5907\u6CE8"},{default:o(()=>[l(s,{modelValue:u.remark,"onUpdate:modelValue":e[3]||(e[3]=t=>u.remark=t),placeholder:"\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),l(d,{label:"\u6570\u636E\u6765\u6E90",prop:"dictSource"},{default:o(()=>[l(C,{modelValue:u.dictSource,"onUpdate:modelValue":e[4]||(e[4]=t=>u.dictSource=t)},{default:o(()=>[l(c,{label:0},{default:o(()=>[m("\u5B57\u5178\u6570\u636E")]),_:1}),l(c,{label:1},{default:o(()=>[m("\u52A8\u6001SQL")]),_:1})]),_:1},8,["modelValue"])]),_:1}),u.dictSource===1?(_(),b(d,{key:0,prop:"dictSql",label:"\u52A8\u6001SQL"},{default:o(()=>[l(s,{modelValue:u.dictSql,"onUpdate:modelValue":e[5]||(e[5]=t=>u.dictSql=t),type:"textarea",placeholder:"\u5982\uFF1Aselect id as dictValue, name as dictLabel from sys_role where deleted = 0"},null,8,["modelValue"])]),_:1})):q("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{w as _};
