import{_ as a,S as e}from"./index.9874402d.js";import{a as s}from"./user.76ae5e62.js";import{d as t,T as n,n as o,b as l,k as r,u as i,p as d,f as u,r as c,o as m,h as p,l as h,j as f,i as g,Q as v,F as _}from"./vendor.f24ab909.js";var j=t({name:"LoginPage",components:{NavHeader:a},mounted(){n("令牌格式错误,应为36位UUID字符串")},methods:{hahah(a){console.log(this)}},setup(){const a=o(""),t=l(),d=r(),u=i(),c=t.query.redirect;return{token:a,submit:async()=>{if(a.value)try{const t=await s(a.value),n={loginname:t.loginname,avatar_url:t.avatar_url,userId:t.id,token:a.value};window.sessionStorage.user=JSON.stringify(n),u.dispatch(`user/${e}`,n);const o=decodeURIComponent(c||"/");d.replace({path:o}),console.log("token",t)}catch(t){}else n("令牌格式错误,应为36位UUID字符串")}}}});d("data-v-9f6fc72e");const U={class:"login-info"};u(),j.render=function(a,e,s,t,n,o){const l=c("nav-header");return m(),p(_,null,[h(l,{"show-menu":!1,title:"登录"}),f("section",U,[g(f("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>a.jd_username=e),class:"login-input",type:"text",placeholder:"账号",maxlength:"36"},null,512),[[v,a.jd_username,void 0,{trim:!0}]]),g(f("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>a.jd_password=e),class:"login-input",type:"text",placeholder:"密码",maxlength:"36"},null,512),[[v,a.jd_password,void 0,{trim:!0}]]),f("div",{class:"login-btn",onClick:e[2]||(e[2]=(...e)=>a.submit&&a.submit(...e))},"登录")])],64)},j.__scopeId="data-v-9f6fc72e";export{j as default};
